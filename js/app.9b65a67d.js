(function(e){function t(t){for(var o,i,s=t[0],c=t[1],l=t[2],d=0,m=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],o=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},n={app:0},r=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://github.hardly.website/image2base64/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},2716:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("a026"),n=a("9483");Object(n["a"])("".concat("https://github.hardly.website/image2base64/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var r=a("8c4f"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("el-container",{staticStyle:{height:"100%"}},[a("el-header",[e._v("剪切板图片转成 base64 编码")]),a("el-main",[a("div",{staticClass:"converter-input"},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"请粘贴内容"},nativeOn:{paste:function(t){return e.paste.apply(null,arguments)}}}),a("el-input",{staticStyle:{"margin-top":"4%"},attrs:{placeholder:"图片描述文字（可选）"},model:{value:e.markdownImgSate,callback:function(t){e.markdownImgSate=t},expression:"markdownImgSate"}},[a("template",{slot:"prepend"},[e._v("Alt text")])],2)],1),a("div",{staticClass:"converter-prompt"},[e._v("所粘贴图片：")]),a("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.pasteImageData,expression:"pasteImageData!==''"}],staticClass:"size-slider"},[a("div",{staticClass:"scale-value"},[a("span",[e._v("缩放比例："+e._s(e.zoomScale)+"%")])]),a("el-slider",{attrs:{min:0,max:200},model:{value:e.zoomScale,callback:function(t){e.zoomScale=t},expression:"zoomScale"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.pasteImageData,expression:"pasteImageData!==''"}],staticClass:"size-slider"},[a("div",{staticClass:"scale-value"},[a("span",[e._v("图片质量："+e._s(e.imageQuality))])]),a("el-slider",{attrs:{min:0,max:1,step:.1},on:{change:e.qualityChange},model:{value:e.imageQuality,callback:function(t){e.imageQuality=t},expression:"imageQuality"}})],1),a("img",{staticClass:"converter-img",style:{zoom:e.zoomScale/100},attrs:{src:e.pasteImageData}}),a("div",{staticClass:"converter-button"},[a("el-button",{attrs:{type:"young"},on:{click:e.copy2markdown}},[e._v("一键复制 (markdown）")]),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.imgElementData,expression:"imgElementData",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticStyle:{"margin-left":"6%"},attrs:{type:"young"}},[e._v("一键复制 (<img>)")])],1),a("div",{staticClass:"tip"},[e._v(" Typora allows to use <img> tag for displaying images, such it can also be used to adjust the size of images. "),a("br"),e._v(" For example, you could specify the width or height attribute of an <img> tag, or set the width/height in its style attribute. "),a("br"),e._v(" Another common user case is that when you try to insert a retina image, and want to scale it to a “correct” size according, then you could specify a zoom factor in its style attribute. ")])])],1)],1)},s=[],c=(a("ac1f"),a("466d"),a("d3b7"),{data:function(){return{pasteImageData:"",base64Data:"",markdownImgSate:"",zoomScale:100,imageQuality:1,originalBase64:""}},computed:{markdownData:function(){return this.base64Data?"!["+this.markdownImgSate+"]("+this.base64Data+")":""},imgElementData:function(){return"<img src='"+this.base64Data+"' alt='"+this.markdownImgSate+"' style='zoom:"+this.zoomScale/100+";'>"}},mounted:function(){},methods:{compressBase64Length:function(e,t){var a=this,o=new Image,n=1e3;o.onload=function(){var e="";e=document.createElement("canvas"),o.height>n&&(o.width*=n/o.height,o.height=n);var r=e.getContext("2d");r.clearRect(0,0,e.width,e.height),e.width=o.width,e.height=o.height,r.drawImage(o,0,0,o.width,o.height);var i=e.toDataURL("image/jpeg",a.imageQuality);t(i)},o.src=e},qualityChange:function(e){var t=this;this.compressBase64Length(this.originalBase64,(function(e){t.pasteImageData=e,t.base64Data=e}))},paste:function(e){var t=this;this.markdownImgSate="";var a=!0;if(e.clipboardData&&e.clipboardData.items){for(var o=0,n=e.clipboardData.items.length;o<n;o++){var r=e.clipboardData.items[o];if("file"!==r.kind){console.log("粘贴的不是文件"),a=!1;break}var i=r.getAsFile();i.size>0&&i.type.match("^image/")&&this.blobToBase64(i,(function(e){t.originalBase64=e,t.compressBase64Length(t.originalBase64,(function(e){t.pasteImageData=e,t.base64Data=e}))}))}a||this.$notify.error({title:"错误",message:"只能粘贴图片文件！"})}},blobToBase64:function(e,t){var a=new FileReader;a.onload=function(e){t(e.target.result)},a.readAsDataURL(e)},getBase64:function(e){var t=new Image,a="";t.src=e;var o=new Promise((function(e,o){t.onload=function(){var o=document.createElement("canvas"),n=t.width,r=t.height,i=n/r,s=1e3,c=r,l=n;(n>s||r>s)&&(n>r?(l=s,c=s/i):(l=s*i,c=s)),o.width=l,o.height=c,o.getContext("2d").drawImage(t,0,0,l,c),a=o.toDataURL("image/jpeg",.5),e(a)}}));return o},onCopy:function(){this.$message({message:"复制成功",type:"success"})},onError:function(e){this.$message.error(e||"复制失败")},copy2markdown:function(){var e=this;this.markdownData?this.$copyText(this.markdownData).then((function(t){e.onCopy(),console.log(t)}),(function(t){e.onError(),console.log(t)})):e.onError("复制失败,读取内容为空！")}}}),l=c,u=(a("cccb"),a("72db"),a("2877")),d=Object(u["a"])(l,i,s,!1,null,"2dabd981",null),m=d.exports;o["default"].use(r["a"]);var p=[{path:"/",name:"Home",component:m}],g=new r["a"]({mode:"hash",routes:p}),f=g,h=a("2f62");o["default"].use(h["a"]);var v=new h["a"].Store({state:{},mutations:{},actions:{},modules:{}}),b=a("5c96"),w=a.n(b),y=(a("0fae"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)}),k=[],D=(a("034f"),{}),x=Object(u["a"])(D,y,k,!1,null,null,null),S=x.exports,_=a("4eb5"),I=a.n(_);o["default"].use(w.a),o["default"].use(I.a),o["default"].config.productionTip=!1,new o["default"]({router:f,store:v,render:function(e){return e(S)}}).$mount("#app")},"5ced":function(e,t,a){},"72db":function(e,t,a){"use strict";a("2716")},"85ec":function(e,t,a){},cccb:function(e,t,a){"use strict";a("5ced")}});